{{ $_hugo_config := `{ "version": 1 }` }}
{{ $type := .Get "type" | default "info" }}

{{ $icons := dict
"info" "fa-info-circle"
"warning" "fa-exclamation-triangle"
"danger" "fa-exclamation-circle"
"success" "fa-check-circle"
}}

{{ $icon := index $icons $type }}

<div class="alert alert-{{ $type }}" role="alert">
  {{ with .Get "title" | default " "}}
  <h4 class="alert-heading alert-title ">
    <i class="fa alert-icon {{ $icon }}"></i>
    {{ . | safeHTML }}
  </h4>
  {{ end }}
  <details class="details-{{ $type }}">
    {{ with .Get "summary" | default " "}}
    <summary class="summary-{{ $type }}">
      {{ . | safeHTML }}
    </summary>
    {{ end }}
    <p class="p-{{ $type }}">
      {{ if eq .Page.File.Ext "md" }}
      {{ .Inner | markdownify }}
      {{ else }}
      {{ .Inner | htmlUnescape | safeHTML }}
      {{ end }}
    </p>

  </details>
</div>